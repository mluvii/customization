<html>
<head>
<meta charset="UTF-8" />
<style>
body{
 background: url('./o2_bg_komplet.jpg') no-repeat center center fixed; 
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
}

#logo{
	background-image: url('o2_logo_top_left.png');
	background-repeat: no-repeat;
	width: 155px;
    height: 150px;
	margin-left: auto;
	margin-right: auto;
}


#centerDiv{
position: absolute;
background-color:white;
top:50%;
left: 50%;
margin-top: -175px;
margin-left: -225px;
width: 450px;
height: 350px;
border-radius: 8px;
}

.guru{
    background-image: url('./guru-01.png');
    width: 250px;
    height: 250px;
    background-repeat: no-repeat;
    background-size: contain;
    position: absolute;
    top: -100px;
    left: 100px;
}

.offline{
background-repeat: no-repeat;
background-position: center 20px;
}

#numInput{
    position: absolute;
    bottom: 120px;
    width: 300px;
    left: 75px;
text-align: center;
    height: 45px;
    border-radius: 5px;
border-style: solid;
border-width: 1px;
border-color: #ccc;
font-size: 20px;
}

#submitBtn{
    position: absolute;
    bottom: 35px;
    width: 300px;
    left: 75px;
  height: 55px;
    border-radius: 5px;
    color: #fff;
	font-size: 20px;
 
}

.wrongCode{
   border-style: none;
  background: #2286bf;
}

.goodCode{
   border-style: solid;
  background: #2286bf;
  border-left: none;
  border-right: none;
  cursor: pointer;
}

@media only screen and (max-width: 475px) {

  #centerDiv{
    width: 100%;
	left: 0;
	margin-left: 0;
  }
}

@media only screen and (max-height: 550px) {

  #centerDiv{
    top: 0;
	bottom: 0;
	margin-top: 0px;
	height: 100%;
  }
  
  .guru{
    margin-top: 0;
	top: 0;
  }
}


</style>


</head>

<body>
<div id='logo' ></div>
<div id="centerDiv" class="offline">
<div class="guru"></div>
<input type="text" id="numInput" placeholder="Vložte kód" >
<input type="submit" id="submitBtn" class="wrongCode" value="Vstoupit do místnosti">
</div>

<script type="text/javascript">
(function () {
  var scr = document.createElement('script'); scr.type = 'text/javascript'; scr.async = true; scr.charset = 'UTF-8';
  scr.src = '//app.mluvii.com/widget/OOWidget.js';

  var onlineBool = false;
  scr.$owidgetOnLoad = function (owidget) {
    if (!owidget.isSupported) { return; }
    owidget.init("ecced5e0-65bd-48a5-b6b3-6970b170204b", "Spojit");

    document.getElementById("submitBtn").disabled = true;
    document.getElementById("submitBtn").onclick = function () {
      var callshowNr = document.getElementById("numInput").value;
      owidget.openAppOnCurrentPage('callshow', callshowNr);
    };
    document.getElementById("numInput").oninput = function () {
      var str = document.getElementById("numInput").value;
      if (str.match("^[()/0-9. -]{6}$")) {
        document.getElementById("submitBtn").disabled = false;
        document.getElementById("submitBtn").className = "goodCode";
      } else {
        document.getElementById("submitBtn").disabled = true;
        document.getElementById("submitBtn").className = "wrongCode";
      }
    };
    document.getElementById("numInput").onpropertychange = document.getElementById("numInput").oninput;
    document.onkeypress = function keypressed(e) {
      var keyCode = (window.event) ? e.which : e.keyCode;
      if (keyCode == 13 && !document.getElementById("submitBtn").disabled) {
        owidget.openAppOnCurrentPage('callshow', document.getElementById("numInput").value);
      }
    };

    owidget.connectToServer();
  };
  var ffs = document.getElementsByTagName('script')[0]; ffs.parentNode.insertBefore(scr, ffs);
})();
</script>

</body>
</html>
