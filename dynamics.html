<html>
<head>
 <style type="text/css">
  #collapse{
   background-color: #f00;
   width: 100px;
   height: 20px;
   position: absolute;
   top: 0;
   left: 0;
  }
  
  
  #open{
   background-color: #0f0;
   width: 100px;
   height: 20px;
   position: absolute;
   top: 20px;
   left: 0;
  }
  
  #ci{
   position: absolute;
   top: 40px;
   left:0;
  }
  </style>
</head>
<body>
 
 <div id="ci"></div>
 <div id="collapse">Collapse</div> 
 <div id="open">Open</div> 
 <script>
        function ciLoadDone() {
         console.log("CI Loaded");
         document.getElementById("ci").innerHTML ="CI loaded";
        }
  
       (function(){
         let open = document.getElementById("open");
         open.addEventListener("click", function(){
           console.log("OpenCLicked");
           Microsoft.CIFramework.setMode(1);
         });
        
        let collapse = document.getElementById("collapse");
         collapse.addEventListener("click", function(){
          console.log("Collapse CLicked");
           Microsoft.CIFramework.setMode(0);
         });
        
        console.log("Listeners added");
       })();
    </script>
      
<script type="text/javascript" src="https://mluvii.crm4.dynamics.com/webresources/Widget/msdyn_ciLibrary.js" onload="ciLoadDone();" data-crmurl="@Context.Request.Query["base"]" data-cifid="CIFMainLibrary"></script> 

</body>
</html>
