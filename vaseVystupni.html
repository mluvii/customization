
<!DOCTYPE html>
<html lang="en">
    <head>  
        <meta charset="WINDOWS-1250">  
        <meta name="viewport" content="width=device-width, initial-scale=1.0">  
        <meta http-equiv="X-UA-Compatible" content="ie=edge">  
        <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.css" rel="stylesheet" />  
        <link rel="stylesheet" href="https://unpkg.com/simplebar@2.6.1/dist/simplebar.css" />  
        <style>
.radio_item {
	display: none !important;
}
.label_item {
	opacity: 0.3;
}
.label_item:hover {
	opacity: 1.0;
}
.radio_item:checked + label {
	opacity: 1;
}
.radio_item_nps {
	display: none !important;
}
.label_item_nps {
	background-color: #d3d3d3;
}
.label_item_nps {
	color: black;
}
.radio_item_nps:hover + label {
	background-color: white;
}
.radio_item_nps:hover + label {
	color: #00bfff;
}
.radio_item_nps:checked + label {
	background-color: #00bfff;
}
.radio_item_nps:checked + label {
	color: white;
}
label {
	cursor: pointer;
}
body {
	color: #304558;
}
#my_form {
	background-color: #eaf3f4;
}
.inner-container {
	background-color: #fff;
}
input[type="email"], input[type="submit"], textarea, .inner-container {
	border-radius: 0.5rem !important;
}
input[type="email"]:focus, textarea:focus {
	border: 1px solid #4a8299 !important;
	box-shadow: 0 0 0 2px #4a8299 !important;
}
input[type="submit"] {
	background-color: #4a8299;
	box-sizing: border-box;
	border: none;
}
input[type="submit"]:hover, input[type="submit"]:focus, input[type="submit"]:active {
	box-shadow: none !important;
}
input[type="submit"]:hover {
	background-color: #5fadcc !important;
}
input[type="submit"]:active {
	background-color: #35687c !important;
}
.curp {
	cursor: pointer;
}
#rating,
#handler {
	height: 36px;
}
.icon {
	height: 30px;
	z-index: 2;
}
.rating-options {
	flex: 1 1 auto;
	padding: 0 4px;
	z-index: 2;
	align-items: center;
}
#rating-age {
	position: absolute;
	top: 50%;
	left: 1rem;
	content: '';
	height: 2px;
	position: absolute;
	width: calc(100% - 2rem);
	background-color: #E9ECEE;
}
#handler {
	left: 0;
	z-index: 3;
}
.feedback {
	border: 1px solid #ced4da !important;
	border: none;
	margin-top: 15px;
}
#email_checkbox {
	line-height: 1.9;
}
#email_checkbox:before,
#email_checkbox:after {
	height: 1.5rem;
	width: 1.5rem;
	left: -30px;
	box-shadow: none !important;
}
.custom-checkbox {
	padding-left: 30px;
}
.custom-control-input:checked ~ .custom-control-label::before {
	background-color: #4a8299 !important;
}
.custom-control-input:active ~ .custom-control-label::before {
	background-color: #9ecee2 !important;
}
.scroll-container {
	max-height: 1000vh;
	width: 1px !important;
	min-width: 100% !important;
	max-width: 100% !important;
}
.scroll {
	max-width: 100% !important;
}

.absolutely-not {
    float: left;
    padding-top: 5px;
    color: red;
    font-weight: bold;
    font-size: 12px;
}

.absolutely-yes {
    float: right;
    padding-top: 5px;
    color: green;
    font-weight: bold;
    font-size: 12px;
}

.satisfied {
    float: right;
    padding-top: 5px;
    color: green;
    font-weight: bold;
    font-size: 12px;
}

.unsatisfied {
    float: left;
    padding-top: 5px;
    color: red;
    font-weight: bold;
    font-size: 12px;
}

#error-box {
    display: none;
    color: red;
    text-align: center;
    margin-bottom: 0px;
    position: relative;
    top: 14px;
    font-weight: bold;
}
  
</style>
</head>
<body>            
    <div class="scroll-container">                      
        <div class="scroll" data-simplebar>                                  
            <form id="my_form" class="p-2 m-2">		                                  
                <p class="text-center mt-3 mb-3 font-weight-bold">Jak jste byli spokojeni s komunikací v chatu?                                  
                </p>                                              
                <div class="inner-container px-3 pt-4 pb-2">                                                        
                    <div id="rating" class="rating d-flex justify-content-center mx-auto position-relative">                                                                  
                        <div id="rating_options" class="rating-options d-flex justify-content-between">                                                                            
                            <!--RADIO 5-->                                                                                                           
                            <input type="radio" class="radio_item" value="1" name="rating" id="radio5">
                            <label class="label_item" for="radio5">                                                                                                               
                                <svg width="40px" viewBox="0 0 115.4 113.4">                                                                                                                 
                                    <circle class="body" fill="#ff7b48" cx="57.7" cy="56.7" r="56.7"  />                                                                                                                 
                                    <path class="mouth" fill="#31464e" d="M57.3,71.5c-8.5,0-16.6,2.2-23.8,6.3c-2.2,1.3-3,4.1-1.7,6.3c1.3,2.2,4.1,3,6.3,1.7c5.8-3.3,12.4-5.1,19.3-5.1s13.5,1.8,19.3,5.1c2.2,1.3,5,0.5,6.3-1.7c1.3-2.2,0.5-5-1.7-6.3C74,73.7,65.8,71.5,57.3,71.5z" />                                                                                                                 
                                    <path class="right-eye" fill="#31464e" d="M70.3,37.8c1.2-0.2,1.4-0.3,2.6-0.5c1.2-0.2,4.3-0.6,6.4-1c2.1-0.4,2.6-0.5,4.4-0.7c0.3,0.2,0.5,0.4,0.8,0.7c2.2,2.2,3,5.2,2.6,8c-0.3,1.8-1.2,3.6-2.6,5c-3.6,3.6-9.4,3.6-13,0C68.4,46.2,68,41.4,70.3,37.8z" />                                                                                                                 
                                    <path class="left-eye" fill="#31464e" d="M43.2,49.3c3.1-3.1,3.5-7.9,1.2-11.5c-1.2-0.2-1.4-0.3-2.6-0.5c-1.2-0.2-4.3-0.6-6.4-1c-2.1-0.4-2.6-0.5-4.4-0.7c-0.3,0.2-0.5,0.4-0.8,0.7c-2.2,2.2-3,5.2-2.6,8c0.3,1.8,1.2,3.6,2.6,5C33.8,52.9,39.6,52.9,43.2,49.3z" />                                                                                                   
                                </svg>                                                                       
                            </label>                                                                                
                            <!--RADIO 4-->                                                               
                            <input type="radio" class="radio_item" value="2" name="rating" id="radio4">
                            <label class="label_item" for="radio4">                                                                                                               
                                <svg width="40px" viewBox="0 0 115.4 113.4">                                                                                                                 
                                    <circle class="body" fill="#ffb94f" cx="57.7" cy="56.7" r="56.7" />                                                                                                                 
                                    <path class="mouth" fill="#31464e" d="M57.6,73c-7.5,0-14.5,1.3-22.3,4c-2.4,0.8-3.7,3.5-2.8,5.9c0.8,2.4,3.5,3.7,5.9,2.8c6.8-2.4,12.8-3.5,19.2-3.5c7.2,0,15,1.4,18.6,3.2c2.3,1.2,5,0.3,6.2-1.9c1.2-2.3,0.3-5-1.9-6.2C75.4,74.6,66.1,73,57.6,73z"/>                                                                                                                 
                                    <path class="right-eye" fill="#31464e" d="M70.7,38c0.3-0.5,0.7-1,1.2-1.5c1.9-1.9,4.5-2.8,7-2.7c1.5,1.8,1.6,2,3,3.7c1.4,1.7,1.4,1.8,2.5,3c1,1.3,1.6,1.9,3.2,4c-0.3,1.8-1.2,3.6-2.6,5c-3.6,3.6-9.4,3.6-13,0C68.8,46.4,68.4,41.5,70.7,38z"/>                                                                                                                 
                                    <path class="left-eye" fill="#31464e" d="M43.4,49.5c3.1-3.1,3.5-8,1.2-11.6c-0.3-0.5-0.7-1-1.2-1.5c-1.9-1.9-4.5-2.8-7-2.7c-1.5,1.8-1.6,2-3,3.7c-1.4,1.7-1.4,1.8-2.5,3c-1,1.3-1.6,1.9-3.2,4c0.3,1.8,1.2,3.6,2.6,5C33.9,53.1,39.8,53.1,43.4,49.5z"/>                                                                                                   
                                </svg>                                                                       
                            </label>                                                                                                                                                                                            
                            <!--RADIO 3-->                                                                                                 
                            <input type="radio" class="radio_item" value="3" name="rating" id="radio3">
                            <label class="label_item" for="radio3">                                                                                                               
                                <svg width="40px" viewBox="0 0 115.4 113.4">                                                                                                                              
                                    <circle class="body" fill="#fcdb5b" cx="57.7" cy="56.7" r="56.7" />                                                                                                                              
                                    <path class="mouth" fill="#31464e" d="M57.7,74.7c-5.9,1-11.6,2.3-17.4,3.5c-2.5,0.6-4,3-3.5,5.5c0.6,2.5,3,4,5.5,3.5c5.7-1.3,11.2-2.4,17-3.5c5.8-1.1,11.7-2,17.6-2.9c2.5-0.4,4.3-2.7,3.9-5.2c-0.4-2.5-2.7-4.3-5.2-3.9c-6,0.9-12,1.8-35.4,6.5L57.7,74.7z"/>                                                                                                                              
                                    <path class="right-eye" fill="#31464e" d="M70.7,38c0.3-0.5,0.7-1,1.2-1.5c1.9-1.9,4.5-2.8,7-2.7c1.9,0.1,3.8,0.8,5.3,2c0.3,0.2,0.5,0.4,0.8,0.7c2.2,2.2,3,5.2,2.6,8c-0.3,1.8-1.2,3.6-2.6,5c-3.6,3.6-9.4,3.6-13,0C68.7,46.4,68.3,41.5,70.7,38z"/>                                                                                                                              
                                    <path class="left-eye" fill="#31464e" d="M43.4,49.5c3.1-3.1,3.5-8,1.2-11.6c-0.3-0.5-0.7-1-1.2-1.5c-1.9-1.9-4.5-2.8-7-2.7c-1.9,0.1-3.8,0.8-5.3,2c-0.3,0.2-0.5,0.4-0.8,0.7c-2.2,2.2-3,5.2-2.6,8c0.3,1.8,1.2,3.6,2.6,5C34,53.1,39.8,53.1,43.4,49.5z"/>                                                                                                            
                                </svg>                                                                       
                            </label>                                                                          
                            <!--RADIO 2-->                                                                                                      
                            <input type="radio" class="radio_item" value="4" name="rating" id="radio2">
                            <label class="label_item" for="radio2">                                                                                                            
                                <svg width="40px" viewBox="0 0 115.4 113.4">                                                                                                                              
                                    <circle class="body" fill="#acd567" cx="57.7" cy="56.7" r="56.7" />                                                                                                                              
                                    <path class="mouth" fill="#31464e" d="M57.6,86.7c8.5,0,16.7-2.2,23.9-6.3c2.2-1.3,3-4.1,1.7-6.3c-1.3-2.2-4.1-3-6.3-1.7c-5.9,3.3-12.5,5.1-19.4,5.1s-13.5-1.8-19.4-5.1c-2.2-1.3-5-0.5-6.3,1.7c-1.3,2.2-0.5,5,1.7,6.3C40.9,84.5,49.1,86.7,57.6,86.7z"/>                                                                                                                              
                                    <path class="right-eye" fill="#31464e" d="M70.7,38c0.3-0.5,0.7-1,1.2-1.5c1.9-1.9,4.5-2.8,7-2.7c1.9,0.1,3.8,0.8,5.3,2c0.3,0.2,0.5,0.4,0.8,0.7c2.2,2.2,3,5.2,2.6,8c-0.3,1.8-1.2,3.6-2.6,5c-3.6,3.6-9.4,3.6-13,0C68.7,46.4,68.3,41.5,70.7,38z"/>                                                                                                                              
                                    <path class="left-eye" fill="#31464e" d="M43.4,49.5c3.1-3.1,3.5-8,1.2-11.6c-0.3-0.5-0.7-1-1.2-1.5c-1.9-1.9-4.5-2.8-7-2.7c-1.9,0.1-3.8,0.8-5.3,2c-0.3,0.2-0.5,0.4-0.8,0.7c-2.2,2.2-3,5.2-2.6,8c0.3,1.8,1.2,3.6,2.6,5C34,53.1,39.8,53.1,43.4,49.5z"/>                                                                                                            
                                </svg>                                                                       
                            </label>                                                                       
                            <!--RADIO 1-->                                
                            <input type="radio" class="radio_item" value="5" name="rating" id="radio1">
                            <label class="label_item" for="radio1">                                                                                                
                                <svg width="40px" viewBox="0 0 115.4 113.4">                                                                                                              
                                    <circle fill="#7bca71" class="body" cx="57.7" cy="56.7" r="56.7" />                                                                                                              
                                    <path class="mouth" fill="#31464e" d="M57.8,70.7c-6.4,0-19.4,0-27.8,0c-1.9,0-3.2,1-4,2.3c-0.9,1.5-0.9,3.4,0.3,5c7.1,9.6,18.5,15.7,31.4,15.7c12.8,0,24.2-6.2,31.4-15.7c1.1-1.5,1.1-3.3,0.4-4.7c-0.7-1.5-2.3-2.6-4.2-2.6C79.1,70.7,66.1,70.7,57.8,70.7z" />                                                                                                              
                                    <path class="right-eye" fill="#31464e" d="M70.7,38c0.3-0.5,0.7-1,1.2-1.5c1.9-1.9,4.5-2.8,7-2.7c1.9,0.1,3.8,0.8,5.3,2c0.3,0.2,0.5,0.4,0.8,0.7c2.2,2.2,3,5.2,2.6,8c-0.3,1.8-1.2,3.6-2.6,5c-3.6,3.6-9.4,3.6-13,0C68.7,46.4,68.3,41.5,70.7,38z" />                                                                                                              
                                    <path class="left-eye" fill="#31464e" d="M43.4,49.5c3.1-3.1,3.5-8,1.2-11.6c-0.3-0.5-0.7-1-1.2-1.5c-1.9-1.9-4.5-2.8-7-2.7c-1.9,0.1-3.8,0.8-5.3,2c-0.3,0.2-0.5,0.4-0.8,0.7c-2.2,2.2-3,5.2-2.6,8c0.3,1.8,1.2,3.6,2.6,5C34,53.1,39.8,53.1,43.4,49.5z" />                                                                                              
                                </svg>                                                                              
                            </label>                                                                                                                                       
                        </div>                                                                    
                        <div>                                                 
                        </div>                                                                  
                        <div>                                                 
                        </div>                                                           
                    </div>                                      
                    <div align="center" class="rating-options d-flex justify-content-between">                                                                                 
                        <span class="unsatisfied">Mám připomínku                        
                        </span>                                         
                        <span class="satisfied">Chci pochválit                         
                        </span>                                   
                    </div>                                                           
                </div>                                                                              
                <p class="text-center mt-3 mb-3 font-weight-bold">Doporučili byste O2 svým známým?                                 
                </p>                                                     
                <div class="inner-container px-3 pt-4 pb-2">                                                                                 
                    <div align="center" class="rating-options d-flex justify-content-between">                                                                      
                        <input type="radio" class="radio_item_nps" value="0" name="nps" id="nps_0">
                        <label class="label_item_nps" for="nps_0" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">0                                                          
                            </p>                                                 
                        </label>                                                                      
                        <input type="radio" class="radio_item_nps" value="1" name="nps" id="nps_1">                                                                                    
                        <label class="label_item_nps" for="nps_1" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">1                                                          
                            </p>                                                 
                        </label>                                                                        
                        <input type="radio" class="radio_item_nps" value="2" name="nps" id="nps_2">                                                                                    
                        <label class="label_item_nps" for="nps_2" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">2                                                          
                            </p>                                                 
                        </label>                                                                        
                        <input type="radio" class="radio_item_nps" value="3" name="nps" id="nps_3">                                                                                    
                        <label class="label_item_nps" for="nps_3" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">3                                                          
                            </p>                                                 
                        </label>                                                                         
                        <input type="radio" class="radio_item_nps" value="4" name="nps" id="nps_4">                                                                                    
                        <label class="label_item_nps" for="nps_4" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">4                                                          
                            </p>                                                 
                        </label>                                                                           
                        <input type="radio" class="radio_item_nps" value="5" name="nps" id="nps_5">                                                                                    
                        <label class="label_item_nps" for="nps_5" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">5                                                          
                            </p>                                                 
                        </label>                                                                      
                        <input type="radio" class="radio_item_nps" value="6" name="nps" id="nps_6">                                                                                    
                        <label class="label_item_nps" for="nps_6" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">6                                                          
                            </p>                                                 
                        </label>                                                                      
                        <input type="radio" class="radio_item_nps" value="7" name="nps" id="nps_7">                                                                                    
                        <label class="label_item_nps" for="nps_7" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">7                                                          
                            </p>                                                 
                        </label>                                                                      
                        <input type="radio" class="radio_item_nps" value="8" name="nps" id="nps_8">                                                                                    
                        <label class="label_item_nps" for="nps_8" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">8                                                          
                            </p>                                                 
                        </label>                                                                      
                        <input type="radio" class="radio_item_nps" value="9" name="nps" id="nps_9">                                                                                    
                        <label class="label_item_nps" for="nps_9" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">9                                                          
                            </p>                                                 
                        </label>                                                                      
                        <input type="radio" class="radio_item_nps" value="10" name="nps" id="nps_10">                                                                                    
                        <label class="label_item_nps" for="nps_10" style="width: 70px; height: 50px;">                                                         
                            <p style="font-size:30px">10                                                          
                            </p>                                                 
                        </label>                                                   
                    </div>                                                                  
                    <div align="center" class="rating-options d-flex justify-content-between">                            
                        <span class="absolutely-not">                            Rozhodně nedoporučil                         
                        </span>                                     
                        <span class="absolutely-yes">                            Rozhodně doporučil                         
                        </span>                         
                    </div>                                                            
                </div>                                                                              
                <p class="text-center mt-3 mb-3 font-weight-bold">Níže napište pochvaly nebo připomínky.  <br />                                
                </p>                                                     
                <div class="inner-container px-3 pt-4 pb-2">                                                    
<textarea 
                rows="3"
                id="feedback" 
                name="feedback"
                class="form-control feedback"
                placeholder="Co bychom mohli udělat v komunikaci lépe? Za zpětnou vazbu budeme vděčni."
              ></textarea>                                                                    
                    <div class="custom-control custom-checkbox mt-3 mb-2">                                                                  
                        <input type="checkbox" class="custom-control-input" id="send_to_email">                                                                  
                        <label id="email_checkbox" class="custom-control-label curp" for="send_to_email">                  Chci poslat přepis konverzace                                                                   
                        </label>                                                        
                    </div>                                                                 
                    <div class="form-group">                                                                  
                        <input                    disabled                   required                   id="email"                    type="email"                    placeholder="E-mailová adresa"                    class="form-control email"                  />                                                        
                    </div>                                              
                </div>
                <p id="error-box"></p>
                <div class="form-group d-flex py-3 m-0">
                    <input                  id="submit"                 type="submit"                  value="Ok"                 class="btn btn-primary mt-3 mx-auto px-5"                />                                              
                </div>                                    
            </form>                      
        </div>            
    </div>    
<script>
    // Form
    var form = document.getElementById('my_form');
    var submit = document.getElementById('submit');
    var checkbox = document.getElementById('send_to_email');
    checkbox.onchange = function(e) {
      document.getElementById('email').disabled = !e.target.checked;
    };

    var npss = Array.prototype.slice.call(document.querySelectorAll("input[name='nps']"), 0);
    npss.forEach(function(nps) {
        nps.addEventListener("click", function() {
            window.parent.postMessage({
                type: "ADD_CUSTOM_DATA",
                name: 'NPS',
                value: nps.value
            }, "*");
        });
    });

    form.onsubmit = function (e) {
      e.preventDefault();
      var email = document.getElementById('email').value;
      var feedback = (document.getElementById('feedback').value).replace(/(\r\n|\n|\r)/gm," ");
      var checked = document.getElementById('send_to_email').checked;
      var rating = document.querySelector('input[name="rating"]:checked');
      var rating_nps = document.querySelector('input[name="nps"]:checked');
      var error_box = document.getElementById('error-box');

      // First two questions are mandatory, if checkbox for email isn't checked...
      if((rating === null && rating_nps !== null) || (rating !== null && rating_nps === null)) {
	   console.log("not right");
          error_box.style.display = "block";
          error_box.innerHTML = "Pro odeslání prosím vyplňte obě otázky.";
          return false;
      }
      else {
	      console.log("right");
          error_box.style.display = "none";
          error_box.innerHTML = "";
      }
	    console.log("howgh");
      window.parent.postMessage({
        type: "FEEDBACK_ACTION",
        email: checked ? email : null,
        stars: rating.value,
        content: feedback
      }, "*");

    };
  </script>   
</body>
</html>   
